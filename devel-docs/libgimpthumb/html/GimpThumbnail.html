<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>GimpThumbnail</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.71.0">
<link rel="start" href="index.html" title="GIMP Thumbnail Library Reference Manual">
<link rel="up" href="libgimpthumb.html" title="Part&#160;I.&#160;GIMP Thumbnail Library">
<link rel="prev" href="libgimpthumb.html" title="Part&#160;I.&#160;GIMP Thumbnail Library">
<link rel="next" href="libgimpthumb-gimpthumb-utils.html" title="gimpthumb-utils">
<meta name="generator" content="GTK-Doc V1.7 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="part" href="libgimpthumb.html" title="Part&#160;I.&#160;GIMP Thumbnail Library">
<link rel="index" href="libgimpthumb-index.html" title="Index">
<link rel="index" href="libgimpthumb-index-new-in-2-2.html" title="Index of new symbols in GIMP 2.2">
<link rel="index" href="libgimpthumb-index-new-in-2-4.html" title="Index of new symbols in GIMP 2.4">
<link rel="index" href="libgimpthumb-index-deprecated.html" title="Index of deprecated symbols">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="libgimpthumb.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="libgimpthumb.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">GIMP Thumbnail Library Reference Manual</th>
<td><a accesskey="n" href="libgimpthumb-gimpthumb-utils.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts"><nobr><a href="#id2575429" class="shortcut">Top</a>
                  &#160;|&#160;
                  <a href="#id2566741" class="shortcut">Description</a>
                  &#160;|&#160;
                  <a href="#id2566582" class="shortcut">Object Hierarchy</a>
                  &#160;|&#160;
                  <a href="#id2566606" class="shortcut">Properties</a></nobr></td></tr>
</table>
<div class="refentry" lang="en">
<a name="GimpThumbnail"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2>
<a name="id2575429"></a><span class="refentrytitle">GimpThumbnail</span>
</h2>
<p>GimpThumbnail &#8212; The GimpThumbnail object</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<pre class="synopsis">



            <a href="GimpThumbnail.html#GimpThumbnail-struct">GimpThumbnail</a>;
<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a>* <a href="GimpThumbnail.html#gimp-thumbnail-new">gimp_thumbnail_new</a>           (void);
void        <a href="GimpThumbnail.html#gimp-thumbnail-set-uri">gimp_thumbnail_set_uri</a>          (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail,
                                             const gchar *uri);
gboolean    <a href="GimpThumbnail.html#gimp-thumbnail-set-filename">gimp_thumbnail_set_filename</a>     (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail,
                                             const gchar *filename,
                                             GError **error);
gboolean    <a href="GimpThumbnail.html#gimp-thumbnail-set-from-thumb">gimp_thumbnail_set_from_thumb</a>   (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail,
                                             const gchar *filename,
                                             GError **error);
<a href="libgimpthumb-gimpthumb-enums.html#GimpThumbState">GimpThumbState</a> <a href="GimpThumbnail.html#gimp-thumbnail-peek-image">gimp_thumbnail_peek_image</a>    (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail);
<a href="libgimpthumb-gimpthumb-enums.html#GimpThumbState">GimpThumbState</a> <a href="GimpThumbnail.html#gimp-thumbnail-peek-thumb">gimp_thumbnail_peek_thumb</a>    (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail,
                                             <a href="libgimpthumb-gimpthumb-enums.html#GimpThumbSize">GimpThumbSize</a> size);
<a href="libgimpthumb-gimpthumb-enums.html#GimpThumbState">GimpThumbState</a> <a href="GimpThumbnail.html#gimp-thumbnail-check-thumb">gimp_thumbnail_check_thumb</a>   (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail,
                                             <a href="libgimpthumb-gimpthumb-enums.html#GimpThumbSize">GimpThumbSize</a> size);
GdkPixbuf*  <a href="GimpThumbnail.html#gimp-thumbnail-load-thumb">gimp_thumbnail_load_thumb</a>       (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail,
                                             <a href="libgimpthumb-gimpthumb-enums.html#GimpThumbSize">GimpThumbSize</a> size,
                                             GError **error);
gboolean    <a href="GimpThumbnail.html#gimp-thumbnail-save-thumb">gimp_thumbnail_save_thumb</a>       (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail,
                                             GdkPixbuf *pixbuf,
                                             const gchar *software,
                                             GError **error);
gboolean    <a href="GimpThumbnail.html#gimp-thumbnail-save-thumb-local">gimp_thumbnail_save_thumb_local</a> (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail,
                                             GdkPixbuf *pixbuf,
                                             const gchar *software,
                                             GError **error);
gboolean    <a href="GimpThumbnail.html#gimp-thumbnail-save-failure">gimp_thumbnail_save_failure</a>     (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail,
                                             const gchar *software,
                                             GError **error);
void        <a href="GimpThumbnail.html#gimp-thumbnail-delete-failure">gimp_thumbnail_delete_failure</a>   (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail);
void        <a href="GimpThumbnail.html#gimp-thumbnail-delete-others">gimp_thumbnail_delete_others</a>    (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail,
                                             <a href="libgimpthumb-gimpthumb-enums.html#GimpThumbSize">GimpThumbSize</a> size);
gboolean    <a href="GimpThumbnail.html#gimp-thumbnail-has-failed">gimp_thumbnail_has_failed</a>       (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail);

</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2566582"></a><h2>Object Hierarchy</h2>
<pre class="synopsis">

  GObject
   +----GimpThumbnail
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2566606"></a><h2>Properties</h2>
<pre class="synopsis">

  "<a href="GimpThumbnail.html#GimpThumbnail--image-filesize">image-filesize</a>"       gint64                : Read / Write
  "<a href="GimpThumbnail.html#GimpThumbnail--image-height">image-height</a>"         gint                  : Read / Write
  "<a href="GimpThumbnail.html#GimpThumbnail--image-mimetype">image-mimetype</a>"       gchararray            : Read / Write
  "<a href="GimpThumbnail.html#GimpThumbnail--image-mtime">image-mtime</a>"          gint64                : Read / Write
  "<a href="GimpThumbnail.html#GimpThumbnail--image-num-layers">image-num-layers</a>"     gint                  : Read / Write
  "<a href="GimpThumbnail.html#GimpThumbnail--image-state">image-state</a>"          <a href="libgimpthumb-gimpthumb-enums.html#GimpThumbState">GimpThumbState</a>        : Read / Write
  "<a href="GimpThumbnail.html#GimpThumbnail--image-type">image-type</a>"           gchararray            : Read / Write
  "<a href="GimpThumbnail.html#GimpThumbnail--image-uri">image-uri</a>"            gchararray            : Read / Write
  "<a href="GimpThumbnail.html#GimpThumbnail--image-width">image-width</a>"          gint                  : Read / Write
  "<a href="GimpThumbnail.html#GimpThumbnail--thumb-state">thumb-state</a>"          <a href="libgimpthumb-gimpthumb-enums.html#GimpThumbState">GimpThumbState</a>        : Read / Write
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2566741"></a><h2>Description</h2>
<p>

</p>
</div>
<div class="refsect1" lang="en">
<a name="id2566757"></a><h2>Details</h2>
<div class="refsect2" lang="en">
<a name="id2566767"></a><h3>
<a name="GimpThumbnail-struct"></a>GimpThumbnail</h3>
<a class="indexterm" name="id2566779"></a><pre class="programlisting">typedef struct _GimpThumbnail GimpThumbnail;</pre>
<p>
All members of <a href="GimpThumbnail.html" title="GimpThumbnail"><span class="type">GimpThumbnail</span></a> are private and should only be accessed
using object properties.
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2506584"></a><h3>
<a name="gimp-thumbnail-new"></a>gimp_thumbnail_new ()</h3>
<a class="indexterm" name="id2506597"></a><pre class="programlisting"><a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a>* gimp_thumbnail_new           (void);</pre>
<p>
Creates a new <a href="GimpThumbnail.html" title="GimpThumbnail"><span class="type">GimpThumbnail</span></a> object.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> a newly allocated GimpThumbnail object
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2506643"></a><h3>
<a name="gimp-thumbnail-set-uri"></a>gimp_thumbnail_set_uri ()</h3>
<a class="indexterm" name="id2506654"></a><pre class="programlisting">void        gimp_thumbnail_set_uri          (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail,
                                             const gchar *uri);</pre>
<p>
Sets the location of the image file associated with the <span class="type">thumbnail</span>.
</p>
<p>
All informations stored in the <a href="GimpThumbnail.html" title="GimpThumbnail"><span class="type">GimpThumbnail</span></a> are reset.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>thumbnail</code></em>&#160;:</span></td>
<td> a <a href="GimpThumbnail.html" title="GimpThumbnail"><span class="type">GimpThumbnail</span></a> object
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>uri</code></em>&#160;:</span></td>
<td> an escaped URI
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2506751"></a><h3>
<a name="gimp-thumbnail-set-filename"></a>gimp_thumbnail_set_filename ()</h3>
<a class="indexterm" name="id2506763"></a><pre class="programlisting">gboolean    gimp_thumbnail_set_filename     (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail,
                                             const gchar *filename,
                                             GError **error);</pre>
<p>
Sets the location of the image file associated with the <span class="type">thumbnail</span>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>thumbnail</code></em>&#160;:</span></td>
<td> a <a href="GimpThumbnail.html" title="GimpThumbnail"><span class="type">GimpThumbnail</span></a> object
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>filename</code></em>&#160;:</span></td>
<td> a local filename in the encoding of the filesystem
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> return location for possible errors
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> <code class="literal">TRUE</code> if the filename was successfully set,
              <code class="literal">FALSE</code> otherwise
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2591401"></a><h3>
<a name="gimp-thumbnail-set-from-thumb"></a>gimp_thumbnail_set_from_thumb ()</h3>
<a class="indexterm" name="id2591413"></a><pre class="programlisting">gboolean    gimp_thumbnail_set_from_thumb   (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail,
                                             const gchar *filename,
                                             GError **error);</pre>
<p>
This function tries to load the thumbnail file pointed to by
<em class="parameter"><code>filename</code></em> and retrieves the URI of the original image file from
it. This allows you to find the image file associated with a
thumbnail file.
</p>
<p>
This will only work with thumbnails from the global thumbnail
directory that contain a valid Thumb::URI tag.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>thumbnail</code></em>&#160;:</span></td>
<td> a <a href="GimpThumbnail.html" title="GimpThumbnail"><span class="type">GimpThumbnail</span></a> object
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>filename</code></em>&#160;:</span></td>
<td> filename of a local thumbnail file
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> return location for possible errors
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> <code class="literal">TRUE</code> if the pixbuf could be loaded, <code class="literal">FALSE</code> otherwise
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2576411"></a><h3>
<a name="gimp-thumbnail-peek-image"></a>gimp_thumbnail_peek_image ()</h3>
<a class="indexterm" name="id2591544"></a><pre class="programlisting"><a href="libgimpthumb-gimpthumb-enums.html#GimpThumbState">GimpThumbState</a> gimp_thumbnail_peek_image    (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail);</pre>
<p>
Checks the image file associated with the <em class="parameter"><code>thumbnail</code></em> and updates
information such as state, filesize and modification time.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>thumbnail</code></em>&#160;:</span></td>
<td> a <a href="GimpThumbnail.html" title="GimpThumbnail"><span class="type">GimpThumbnail</span></a> object
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> the image's <a href="libgimpthumb-gimpthumb-enums.html#GimpThumbState"><span class="type">GimpThumbState</span></a> after the update
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2591618"></a><h3>
<a name="gimp-thumbnail-peek-thumb"></a>gimp_thumbnail_peek_thumb ()</h3>
<a class="indexterm" name="id2591629"></a><pre class="programlisting"><a href="libgimpthumb-gimpthumb-enums.html#GimpThumbState">GimpThumbState</a> gimp_thumbnail_peek_thumb    (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail,
                                             <a href="libgimpthumb-gimpthumb-enums.html#GimpThumbSize">GimpThumbSize</a> size);</pre>
<p>
Checks if a thumbnail file for the <em class="parameter"><code>thumbnail</code></em> exists. It doesn't
load the thumbnail image and thus cannot check if the thumbnail is
valid and uptodate for the image file asosciated with the
<em class="parameter"><code>thumbnail</code></em>.
</p>
<p>
If you want to check the thumbnail, either attempt to load it using
<a href="GimpThumbnail.html#gimp-thumbnail-load-thumb"><code class="function">gimp_thumbnail_load_thumb()</code></a>, or, if you don't need the resulting
thumbnail pixbuf, use <a href="GimpThumbnail.html#gimp-thumbnail-check-thumb"><code class="function">gimp_thumbnail_check_thumb()</code></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>thumbnail</code></em>&#160;:</span></td>
<td> a <a href="GimpThumbnail.html" title="GimpThumbnail"><span class="type">GimpThumbnail</span></a> object
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>size</code></em>&#160;:</span></td>
<td> the preferred size of the thumbnail image
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> the thumbnail's <a href="libgimpthumb-gimpthumb-enums.html#GimpThumbState"><span class="type">GimpThumbState</span></a> after the update
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2591751"></a><h3>
<a name="gimp-thumbnail-check-thumb"></a>gimp_thumbnail_check_thumb ()</h3>
<a class="indexterm" name="id2591764"></a><pre class="programlisting"><a href="libgimpthumb-gimpthumb-enums.html#GimpThumbState">GimpThumbState</a> gimp_thumbnail_check_thumb   (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail,
                                             <a href="libgimpthumb-gimpthumb-enums.html#GimpThumbSize">GimpThumbSize</a> size);</pre>
<p>
Checks if a thumbnail file for the <em class="parameter"><code>thumbnail</code></em> exists, loads it and
verifies it is valid and uptodate for the image file asosciated
with the <em class="parameter"><code>thumbnail</code></em>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>thumbnail</code></em>&#160;:</span></td>
<td> a <a href="GimpThumbnail.html" title="GimpThumbnail"><span class="type">GimpThumbnail</span></a> object
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>size</code></em>&#160;:</span></td>
<td> the preferred size of the thumbnail image
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> the thumbnail's <a href="libgimpthumb-gimpthumb-enums.html#GimpThumbState"><span class="type">GimpThumbState</span></a> after the update

</td>
</tr>
</tbody>
</table></div>
<p>Since  GIMP 2.2
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2591866"></a><h3>
<a name="gimp-thumbnail-load-thumb"></a>gimp_thumbnail_load_thumb ()</h3>
<a class="indexterm" name="id2591877"></a><pre class="programlisting">GdkPixbuf*  gimp_thumbnail_load_thumb       (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail,
                                             <a href="libgimpthumb-gimpthumb-enums.html#GimpThumbSize">GimpThumbSize</a> size,
                                             GError **error);</pre>
<p>
Attempts to load a thumbnail preview for the image associated with
<em class="parameter"><code>thumbnail</code></em>. Before you use this function you need need to set an
image location using <a href="GimpThumbnail.html#gimp-thumbnail-set-uri"><code class="function">gimp_thumbnail_set_uri()</code></a> or
<a href="GimpThumbnail.html#gimp-thumbnail-set-filename"><code class="function">gimp_thumbnail_set_filename()</code></a>. You can also peek at the thumb
before loading it using gimp_thumbnail_peek_thumb.
</p>
<p>
This function will return the best matching pixbuf for the
specified <em class="parameter"><code>size</code></em>. It returns the pixbuf as loaded from disk. It is
left to the caller to scale it to the desired size. The returned
pixbuf may also represent an outdated preview of the image file.
In order to verify if the preview is uptodate, you should check the
"thumb_state" property after calling this function.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>thumbnail</code></em>&#160;:</span></td>
<td> a <a href="GimpThumbnail.html" title="GimpThumbnail"><span class="type">GimpThumbnail</span></a> object
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>size</code></em>&#160;:</span></td>
<td> the preferred <a href="libgimpthumb-gimpthumb-enums.html#GimpThumbSize"><span class="type">GimpThumbSize</span></a> for the preview
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> return location for possible errors
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> a preview pixbuf or <code class="literal">NULL</code> if no thumbnail was found
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592032"></a><h3>
<a name="gimp-thumbnail-save-thumb"></a>gimp_thumbnail_save_thumb ()</h3>
<a class="indexterm" name="id2592043"></a><pre class="programlisting">gboolean    gimp_thumbnail_save_thumb       (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail,
                                             GdkPixbuf *pixbuf,
                                             const gchar *software,
                                             GError **error);</pre>
<p>
Saves a preview thumbnail for the image associated with <em class="parameter"><code>thumbnail</code></em>.
to the global thumbnail repository.
</p>
<p>
The caller is responsible for setting the image file location, it's
filesize, modification time. One way to set this info is to is to
call <a href="GimpThumbnail.html#gimp-thumbnail-set-uri"><code class="function">gimp_thumbnail_set_uri()</code></a> followed by <a href="GimpThumbnail.html#gimp-thumbnail-peek-image"><code class="function">gimp_thumbnail_peek_image()</code></a>.
Since this won't work for remote images, it is left to the user of
<a href="GimpThumbnail.html#gimp-thumbnail-save-thumb"><code class="function">gimp_thumbnail_save_thumb()</code></a> to do this or to set the information
using the <em class="parameter"><code>thumbnail</code></em> object properties.
</p>
<p>
The image format type and the number of layers can optionally be
set in order to be stored with the preview image.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>thumbnail</code></em>&#160;:</span></td>
<td> a <a href="GimpThumbnail.html" title="GimpThumbnail"><span class="type">GimpThumbnail</span></a> object
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>pixbuf</code></em>&#160;:</span></td>
<td> a <span class="type">GdkPixbuf</span> representing the preview thumbnail
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>software</code></em>&#160;:</span></td>
<td> a string describing the software saving the thumbnail
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> return location for possible errors
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> <code class="literal">TRUE</code> if a thumbnail was successfully written,
              <code class="literal">FALSE</code> otherwise
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592236"></a><h3>
<a name="gimp-thumbnail-save-thumb-local"></a>gimp_thumbnail_save_thumb_local ()</h3>
<a class="indexterm" name="id2592251"></a><pre class="programlisting">gboolean    gimp_thumbnail_save_thumb_local (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail,
                                             GdkPixbuf *pixbuf,
                                             const gchar *software,
                                             GError **error);</pre>
<p>
Saves a preview thumbnail for the image associated with <em class="parameter"><code>thumbnail</code></em>
to the local thumbnail repository. Local thumbnails have been added
with version 0.7 of the spec.
</p>
<p>
Please see also <a href="GimpThumbnail.html#gimp-thumbnail-save-thumb"><code class="function">gimp_thumbnail_save_thumb()</code></a>. The notes made there
apply here as well.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>thumbnail</code></em>&#160;:</span></td>
<td> a <a href="GimpThumbnail.html" title="GimpThumbnail"><span class="type">GimpThumbnail</span></a> object
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>pixbuf</code></em>&#160;:</span></td>
<td> a <span class="type">GdkPixbuf</span> representing the preview thumbnail
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>software</code></em>&#160;:</span></td>
<td> a string describing the software saving the thumbnail
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> return location for possible errors
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> <code class="literal">TRUE</code> if a thumbnail was successfully written,
              <code class="literal">FALSE</code> otherwise

</td>
</tr>
</tbody>
</table></div>
<p>Since  GIMP 2.2
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592419"></a><h3>
<a name="gimp-thumbnail-save-failure"></a>gimp_thumbnail_save_failure ()</h3>
<a class="indexterm" name="id2592430"></a><pre class="programlisting">gboolean    gimp_thumbnail_save_failure     (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail,
                                             const gchar *software,
                                             GError **error);</pre>
<p>
Saves a failure thumbnail for the image associated with
<em class="parameter"><code>thumbnail</code></em>. This is an empty pixbuf that indicates that an attempt
to create a preview for the image file failed. It should be used to
prevent the software from further attempts to create this thumbnail.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>thumbnail</code></em>&#160;:</span></td>
<td> a <a href="GimpThumbnail.html" title="GimpThumbnail"><span class="type">GimpThumbnail</span></a> object
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>software</code></em>&#160;:</span></td>
<td> a string describing the software saving the thumbnail
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> return location for possible errors
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> <code class="literal">TRUE</code> if a failure thumbnail was successfully written,
              <code class="literal">FALSE</code> otherwise
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592557"></a><h3>
<a name="gimp-thumbnail-delete-failure"></a>gimp_thumbnail_delete_failure ()</h3>
<a class="indexterm" name="id2592571"></a><pre class="programlisting">void        gimp_thumbnail_delete_failure   (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail);</pre>
<p>
Removes a failure thumbnail if one exists. This function should be
used after a thumbnail has been successfully created.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><em class="parameter"><code>thumbnail</code></em>&#160;:</span></td>
<td> a <a href="GimpThumbnail.html" title="GimpThumbnail"><span class="type">GimpThumbnail</span></a> object
</td>
</tr></tbody>
</table></div>
<p>Since  GIMP 2.2
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592628"></a><h3>
<a name="gimp-thumbnail-delete-others"></a>gimp_thumbnail_delete_others ()</h3>
<a class="indexterm" name="id2592642"></a><pre class="programlisting">void        gimp_thumbnail_delete_others    (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail,
                                             <a href="libgimpthumb-gimpthumb-enums.html#GimpThumbSize">GimpThumbSize</a> size);</pre>
<p>
Removes all other thumbnails from the global thumbnail
repository. Only the thumbnail for <em class="parameter"><code>size</code></em> is not deleted.  This
function should be used after a thumbnail has been successfully
updated. See the spec for a more detailed description on when to
delete thumbnails.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>thumbnail</code></em>&#160;:</span></td>
<td> a <a href="GimpThumbnail.html" title="GimpThumbnail"><span class="type">GimpThumbnail</span></a> object
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>size</code></em>&#160;:</span></td>
<td> the thumbnail size which should not be deleted
</td>
</tr>
</tbody>
</table></div>
<p>Since  GIMP 2.2
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592727"></a><h3>
<a name="gimp-thumbnail-has-failed"></a>gimp_thumbnail_has_failed ()</h3>
<a class="indexterm" name="id2592740"></a><pre class="programlisting">gboolean    gimp_thumbnail_has_failed       (<a href="GimpThumbnail.html" title="GimpThumbnail">GimpThumbnail</a> *thumbnail);</pre>
<p>
Checks if a valid failure thumbnail for the given thumbnail exists
in the global thumbnail repository. This may be the case even if
<a href="GimpThumbnail.html#gimp-thumbnail-peek-thumb"><code class="function">gimp_thumbnail_peek_thumb()</code></a> doesn't return <a href="libgimpthumb-gimpthumb-enums.html#GIMP-THUMB-STATE-FAILED:CAPS"><code class="literal">GIMP_THUMB_STATE_FAILED</code></a>
since there might be a real thumbnail and a failure thumbnail for
the same image file.
</p>
<p>
The application should not attempt to create the thumbnail if a
valid failure thumbnail exists.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>thumbnail</code></em>&#160;:</span></td>
<td> a <a href="GimpThumbnail.html" title="GimpThumbnail"><span class="type">GimpThumbnail</span></a> object
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> <code class="literal">TRUE</code> if a failure thumbnail exists or

</td>
</tr>
</tbody>
</table></div>
<p>Since  GIMP 2.2
</p>
</div>
</div>
<div class="refsect1" lang="en">
<a name="id2592840"></a><h2>Property Details</h2>
<div class="refsect2" lang="en">
<a name="id2592849"></a><h3>
<a name="GimpThumbnail--image-filesize"></a>The "<code class="literal">image-filesize</code>" property</h3>
<a class="indexterm" name="id2592864"></a><pre class="programlisting">  "image-filesize"       gint64                : Read / Write</pre>
<p>Size of the image file in bytes.</p>
<p>Allowed values: &gt;= 0</p>
<p>Default value: 0</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592890"></a><h3>
<a name="GimpThumbnail--image-height"></a>The "<code class="literal">image-height</code>" property</h3>
<a class="indexterm" name="id2592903"></a><pre class="programlisting">  "image-height"         gint                  : Read / Write</pre>
<p>Height of the image in pixels.</p>
<p>Allowed values: &gt;= 0</p>
<p>Default value: 0</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592929"></a><h3>
<a name="GimpThumbnail--image-mimetype"></a>The "<code class="literal">image-mimetype</code>" property</h3>
<a class="indexterm" name="id2592944"></a><pre class="programlisting">  "image-mimetype"       gchararray            : Read / Write</pre>
<p>Image mimetype.</p>
<p>Default value: NULL</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592966"></a><h3>
<a name="GimpThumbnail--image-mtime"></a>The "<code class="literal">image-mtime</code>" property</h3>
<a class="indexterm" name="id2592978"></a><pre class="programlisting">  "image-mtime"          gint64                : Read / Write</pre>
<p>Modification time of the image file in seconds since the Epoch.</p>
<p>Allowed values: &gt;= 0</p>
<p>Default value: 0</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2593005"></a><h3>
<a name="GimpThumbnail--image-num-layers"></a>The "<code class="literal">image-num-layers</code>" property</h3>
<a class="indexterm" name="id2593020"></a><pre class="programlisting">  "image-num-layers"     gint                  : Read / Write</pre>
<p>The number of layers in the image.</p>
<p>Allowed values: &gt;= 0</p>
<p>Default value: 0</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2593046"></a><h3>
<a name="GimpThumbnail--image-state"></a>The "<code class="literal">image-state</code>" property</h3>
<a class="indexterm" name="id2593059"></a><pre class="programlisting">  "image-state"          <a href="libgimpthumb-gimpthumb-enums.html#GimpThumbState">GimpThumbState</a>        : Read / Write</pre>
<p>State of the image associated to the thumbnail object.</p>
<p>Default value: GIMP_THUMB_STATE_UNKNOWN</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2593083"></a><h3>
<a name="GimpThumbnail--image-type"></a>The "<code class="literal">image-type</code>" property</h3>
<a class="indexterm" name="id2593095"></a><pre class="programlisting">  "image-type"           gchararray            : Read / Write</pre>
<p>String describing the type of the image format.</p>
<p>Default value: NULL</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2593118"></a><h3>
<a name="GimpThumbnail--image-uri"></a>The "<code class="literal">image-uri</code>" property</h3>
<a class="indexterm" name="id2593131"></a><pre class="programlisting">  "image-uri"            gchararray            : Read / Write</pre>
<p>URI of the image file.</p>
<p>Default value: NULL</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2593153"></a><h3>
<a name="GimpThumbnail--image-width"></a>The "<code class="literal">image-width</code>" property</h3>
<a class="indexterm" name="id2593165"></a><pre class="programlisting">  "image-width"          gint                  : Read / Write</pre>
<p>Width of the image in pixels.</p>
<p>Allowed values: &gt;= 0</p>
<p>Default value: 0</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2593192"></a><h3>
<a name="GimpThumbnail--thumb-state"></a>The "<code class="literal">thumb-state</code>" property</h3>
<a class="indexterm" name="id2593204"></a><pre class="programlisting">  "thumb-state"          <a href="libgimpthumb-gimpthumb-enums.html#GimpThumbState">GimpThumbState</a>        : Read / Write</pre>
<p>State of the thumbnail file.</p>
<p>Default value: GIMP_THUMB_STATE_UNKNOWN</p>
</div>
</div>
</div>
</body>
</html>

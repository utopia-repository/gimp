<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>GimpUnitMenu</title><meta name="generator" content="DocBook XSL Stylesheets V1.66.1"><link rel="start" href="index.html" title="GIMP Widgets Library Reference Manual"><link rel="up" href="libgimpwidgets-widgets.html" title="Part I. GIMP Widgets"><link rel="prev" href="libgimpwidgets-GimpScrolledPreview.html" title="GimpScrolledPreview"><link rel="next" href="libgimpwidgets-cell-renderers.html" title="Cell Renderers for GtkTreeView"><meta name="generator" content="GTK-Doc V1.3 (XML mode)"><link rel="stylesheet" href="style.css" type="text/css"><link rel="part" href="libgimpwidgets-widgets.html" title="Part I. GIMP Widgets"><link rel="chapter" href="libgimpwidgets-hierarchy.html" title="Object Hierarchy"><link rel="chapter" href="libgimpwidgets-cell-renderers.html" title="Cell Renderers for GtkTreeView"><link rel="part" href="libgimpwidgets-colordisplay.html" title="Part II. GIMP Display Filters"><link rel="part" href="libgimpwidgets-colorselector.html" title="Part III. GIMP Color Selectors"><link rel="part" href="libgimpwidgets-controller.html" title="Part IV. GIMP Controllers"><link rel="part" href="libgimpwidgets-utils.html" title="Part V. GIMP Widgets Utilities"><link rel="part" href="libgimpwidgets-deprecated.html" title="Part VI. Deprecated API"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table class="navigation" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle"><td><a accesskey="p" href="libgimpwidgets-GimpScrolledPreview.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td><td><a accesskey="u" href="libgimpwidgets-widgets.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td><td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td><th width="100%" align="center">GIMP Widgets Library Reference Manual</th><td><a accesskey="n" href="libgimpwidgets-cell-renderers.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td></tr></table><div class="refentry" lang="en"><a name="GimpUnitMenu"></a><div class="titlepage"></div><div class="refnamediv"><table width="100%"><tr><td valign="top"><h2><span class="refentrytitle">GimpUnitMenu</span></h2><p>GimpUnitMenu &#8212; Widget for selecting a <a
href="../libgimpbase/libgimpbase-gimpunit.html#GimpUnit"
><span class="type">GimpUnit</span></a>.</p></td><td valign="top" align="right"></td></tr></table></div><div class="refsynopsisdiv"><h2>Synopsis</h2><pre class="synopsis">



            <a href="GimpUnitMenu.html#GimpUnitMenu-struct">GimpUnitMenu</a>;
<a
href="../gtk/GtkWidget.html"
>GtkWidget</a>*  <a href="GimpUnitMenu.html#gimp-unit-menu-new">gimp_unit_menu_new</a>              (const <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> *format,
                                             <a
href="../libgimpbase/libgimpbase-gimpunit.html#GimpUnit"
>GimpUnit</a> unit,
                                             <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a> show_pixels,
                                             <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a> show_percent,
                                             <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a> show_custom);
void        <a href="GimpUnitMenu.html#gimp-unit-menu-set-unit">gimp_unit_menu_set_unit</a>         (<a href="GimpUnitMenu.html" title="GimpUnitMenu">GimpUnitMenu</a> *menu,
                                             <a
href="../libgimpbase/libgimpbase-gimpunit.html#GimpUnit"
>GimpUnit</a> unit);
<a
href="../libgimpbase/libgimpbase-gimpunit.html#GimpUnit"
>GimpUnit</a>    <a href="GimpUnitMenu.html#gimp-unit-menu-get-unit">gimp_unit_menu_get_unit</a>         (<a href="GimpUnitMenu.html" title="GimpUnitMenu">GimpUnitMenu</a> *menu);
<a
href="../glib/glib-Basic-Types.html#gint"
>gint</a>        <a href="GimpUnitMenu.html#gimp-unit-menu-get-pixel-digits">gimp_unit_menu_get_pixel_digits</a> (<a href="GimpUnitMenu.html" title="GimpUnitMenu">GimpUnitMenu</a> *menu);
void        <a href="GimpUnitMenu.html#gimp-unit-menu-set-pixel-digits">gimp_unit_menu_set_pixel_digits</a> (<a href="GimpUnitMenu.html" title="GimpUnitMenu">GimpUnitMenu</a> *menu,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> digits);

</pre></div><div class="refsect1" lang="en"><a name="id2593980"></a><h2>Object Hierarchy</h2><pre class="synopsis">

  <a
href="../gobject/gobject-The-Base-Object-Type.html#GObject"
>GObject</a>
   +----<a
href="../gtk/GtkObject.html"
>GtkObject</a>
         +----<a
href="../gtk/GtkWidget.html"
>GtkWidget</a>
               +----<a
href="../gtk/GtkContainer.html"
>GtkContainer</a>
                     +----<a
href="../gtk/GtkBin.html"
>GtkBin</a>
                           +----<a
href="../gtk/GtkButton.html"
>GtkButton</a>
                                 +----<a
href="../gtk/GtkOptionMenu.html"
>GtkOptionMenu</a>
                                       +----GimpUnitMenu
</pre></div><div class="refsect1" lang="en"><a name="id2594026"></a><h2>Implemented Interfaces</h2><p>
GimpUnitMenu implements
 AtkImplementorIface.</p></div><div class="refsect1" lang="en"><a name="id2594041"></a><h2>Signal Prototypes</h2><pre class="synopsis">

"<a href="GimpUnitMenu.html#GimpUnitMenu-unit-changed">unit-changed</a>"
            void        user_function      (<a href="GimpUnitMenu.html" title="GimpUnitMenu">GimpUnitMenu</a> *arg0,
                                            <a
href="../glib/glib-Basic-Types.html#gpointer"
>gpointer</a> user_data);
</pre></div><div class="refsect1" lang="en"><a name="id2594073"></a><h2>Description</h2><p>
This widget provides a <a
href="../gtk/GtkOptionMenu.html"
><span class="type">GtkOptionMenu</span></a> which contains a list of <a
href="../libgimpbase/libgimpbase-gimpunit.html#GimpUnit"
><span class="type">GimpUnit</span></a>'s.
</p><p>
You can specify the string that will be displayed for each unit by
passing a printf-like <i class="parameter"><tt>format</tt></i> string to <a href="GimpUnitMenu.html#gimp-unit-menu-new"><tt class="function">gimp_unit_menu_new()</tt></a>.
</p><p>
The constructor also lets you choose if the menu should contain items
for GIMP_UNIT_PIXEL, GIMP_UNIT_PERCENT and a "More..." item which will
pop up a dialog for selecting user-defined units.
</p><p>
Whenever the user selects a unit from the menu or the dialog, the
"unit_changed" signal will be emitted.
</p></div><div class="refsect1" lang="en"><a name="id2593780"></a><h2>Details</h2><div class="refsect2" lang="en"><a name="id2593785"></a><h3><a name="GimpUnitMenu-struct"></a>GimpUnitMenu</h3><a class="indexterm" name="id2593794"></a><pre class="programlisting">typedef struct _GimpUnitMenu GimpUnitMenu;</pre><p>

</p></div><hr><div class="refsect2" lang="en"><a name="id2593803"></a><h3><a name="gimp-unit-menu-new"></a>gimp_unit_menu_new ()</h3><a class="indexterm" name="id2593812"></a><pre class="programlisting"><a
href="../gtk/GtkWidget.html"
>GtkWidget</a>*  gimp_unit_menu_new              (const <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> *format,
                                             <a
href="../libgimpbase/libgimpbase-gimpunit.html#GimpUnit"
>GimpUnit</a> unit,
                                             <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a> show_pixels,
                                             <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a> show_percent,
                                             <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a> show_custom);</pre><p>
Creates a new <a href="GimpUnitMenu.html" title="GimpUnitMenu"><span class="type">GimpUnitMenu</span></a> widget.
</p><p>
The <i class="parameter"><tt>format</tt></i> string supports the following percent expansions:
</p><p>
</p><div class="informaltable"><table width="100%" border="0"><colgroup><col><col></colgroup><tbody><tr><td>% f</td><td>Factor (how many units make up an inch)</td></tr><tr><td>% y</td><td>Symbol (e.g. "''" for GIMP_UNIT_INCH)</td></tr><tr><td>% a</td><td>Abbreviation</td></tr><tr><td>% s</td><td>Singular</td></tr><tr><td>% p</td><td>Plural</td></tr><tr><td>%%</td><td>Literal percent</td></tr></tbody></table></div><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>format</tt></i> :</span></td><td>       A printf-like format string which is used to create the unit
               strings.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>unit</tt></i> :</span></td><td>         The initially selected unit.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>show_pixels</tt></i> :</span></td><td>  <tt class="literal">TRUE</tt> if the unit menu should contain an item for
               GIMP_UNIT_PIXEL.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>show_percent</tt></i> :</span></td><td> <tt class="literal">TRUE</tt> in the unit menu should contain an item for
               GIMP_UNIT_PERCENT.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>show_custom</tt></i> :</span></td><td>  <tt class="literal">TRUE</tt> if the unit menu should contain a "More..." item for
               opening the user-defined-unit selection dialog.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> A pointer to the new <a href="GimpUnitMenu.html" title="GimpUnitMenu"><span class="type">GimpUnitMenu</span></a> widget.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2595718"></a><h3><a name="gimp-unit-menu-set-unit"></a>gimp_unit_menu_set_unit ()</h3><a class="indexterm" name="id2595726"></a><pre class="programlisting">void        gimp_unit_menu_set_unit         (<a href="GimpUnitMenu.html" title="GimpUnitMenu">GimpUnitMenu</a> *menu,
                                             <a
href="../libgimpbase/libgimpbase-gimpunit.html#GimpUnit"
>GimpUnit</a> unit);</pre><p>
Sets a new <a
href="../libgimpbase/libgimpbase-gimpunit.html#GimpUnit"
><span class="type">GimpUnit</span></a> for the specified <a href="GimpUnitMenu.html" title="GimpUnitMenu"><span class="type">GimpUnitMenu</span></a>.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>menu</tt></i> :</span></td><td>  The unit menu you want to set the unit for.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>unit</tt></i> :</span></td><td> The new unit.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2595794"></a><h3><a name="gimp-unit-menu-get-unit"></a>gimp_unit_menu_get_unit ()</h3><a class="indexterm" name="id2595802"></a><pre class="programlisting"><a
href="../libgimpbase/libgimpbase-gimpunit.html#GimpUnit"
>GimpUnit</a>    gimp_unit_menu_get_unit         (<a href="GimpUnitMenu.html" title="GimpUnitMenu">GimpUnitMenu</a> *menu);</pre><p>
Returns the <a
href="../libgimpbase/libgimpbase-gimpunit.html#GimpUnit"
><span class="type">GimpUnit</span></a> the user has selected from the <a href="GimpUnitMenu.html" title="GimpUnitMenu"><span class="type">GimpUnitMenu</span></a>.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>menu</tt></i> :</span></td><td> The unit menu you want to know the unit of.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> The unit the user has selected.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2593494"></a><h3><a name="gimp-unit-menu-get-pixel-digits"></a>gimp_unit_menu_get_pixel_digits ()</h3><a class="indexterm" name="id2593503"></a><pre class="programlisting"><a
href="../glib/glib-Basic-Types.html#gint"
>gint</a>        gimp_unit_menu_get_pixel_digits (<a href="GimpUnitMenu.html" title="GimpUnitMenu">GimpUnitMenu</a> *menu);</pre><p>
Retrieve the number of digits for a pixel size as set by
<tt class="function">gimp_unit_set_pixel_digits()</tt>.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>menu</tt></i> :</span></td><td> a <a href="GimpUnitMenu.html" title="GimpUnitMenu"><span class="type">GimpUnitMenu</span></a>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the configured number of digits for a pixel size
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2593565"></a><h3><a name="gimp-unit-menu-set-pixel-digits"></a>gimp_unit_menu_set_pixel_digits ()</h3><a class="indexterm" name="id2593576"></a><pre class="programlisting">void        gimp_unit_menu_set_pixel_digits (<a href="GimpUnitMenu.html" title="GimpUnitMenu">GimpUnitMenu</a> *menu,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> digits);</pre><p>
A GimpUnitMenu can be setup to control the number of digits shown
by attached spinbuttons. Please refer to the documentation of
<a href="libgimpwidgets-GimpWidgets.html#gimp-unit-menu-update"><tt class="function">gimp_unit_menu_update()</tt></a> to see how this is done.
</p><p>
This function allows to specify the number of digits shown for a
size in pixels. Usually this is 0 (only full pixels). If you want
to allow the user to specify sub-pixel sizes using the attached
spinbuttons, specify the number of digits after the decimal point
here. You should do this after attaching your spinbuttons.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>menu</tt></i> :</span></td><td> a <a href="GimpUnitMenu.html" title="GimpUnitMenu"><span class="type">GimpUnitMenu</span></a>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>digits</tt></i> :</span></td><td> the number of digits to display for a pixel size
</td></tr></tbody></table></div></div></div><div class="refsect1" lang="en"><a name="id2593657"></a><h2>Signals</h2><div class="refsect2" lang="en"><a name="id2593662"></a><h3><a name="GimpUnitMenu-unit-changed"></a>The "unit-changed" signal</h3><pre class="programlisting">void        user_function                  (<a href="GimpUnitMenu.html" title="GimpUnitMenu">GimpUnitMenu</a> *arg0,
                                            <a
href="../glib/glib-Basic-Types.html#gpointer"
>gpointer</a> user_data);</pre><p>
This signal is emitted whenever the user selects a <a
href="../libgimpbase/libgimpbase-gimpunit.html#GimpUnit"
><span class="type">GimpUnit</span></a> from
the <a href="GimpUnitMenu.html" title="GimpUnitMenu"><span class="type">GimpUnitMenu</span></a>.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>user_data</tt></i> :</span></td><td>user data set when the signal handler was connected.</td></tr></tbody></table></div></div></div><div class="refsect1" lang="en"><a name="id2598894"></a><h2>See Also</h2><p>
<a
href="../libgimpbase/libgimpbase-gimpunit.html#GimpUnit"
><span class="type">GimpUnit</span></a>
</p><p>
<a href="GimpSizeEntry.html" title="GimpSizeEntry"><span class="type">GimpSizeEntry</span></a>
</p><p>
<a href="libgimpwidgets-GimpWidgets.html#gimp-coordinates-new"><tt class="function">gimp_coordinates_new()</tt></a>
</p></div></div><table class="navigation" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle"><td align="left"><a accesskey="p" href="libgimpwidgets-GimpScrolledPreview.html"><b>&lt;&lt; GimpScrolledPreview</b></a></td><td align="right"><a accesskey="n" href="libgimpwidgets-cell-renderers.html"><b>Cell Renderers for GtkTreeView &gt;&gt;</b></a></td></tr></table></body></html>
